# Data Directory

This directory contains datasets and configuration files for the EoS-ML project.

## Files Overview

### Observational Data
- `nicer_samples.csv`: Posterior samples from NICER X-ray timing observations
- `gw_tidal_samples.csv`: Tidal deformability constraints from gravitational wave events
- `raw_events/`: Raw observational data files

### Generated Data  
- `synthetic_dataset.npz`: Synthetic training dataset (generated by running the pipeline)
- `priors_config.json`: Configuration file for prior distributions

### Raw Event Files
The `raw_events/` subdirectory contains:
- `NICER_J0030.json`: Example NICER observation file
- `GW170817_pe.csv`: Example gravitational wave parameter estimation file

## Usage

### Loading Observational Data
```python
from inference.dataset import ObservationalDataLoader

loader = ObservationalDataLoader('data/')
obs_data = loader.load_all_observational_data()
```

### Generating Synthetic Data
```python
from inference.dataset import SyntheticDatasetGenerator

generator = SyntheticDatasetGenerator(n_samples=10000)
generator.generate_and_save('data/synthetic_dataset.npz')
```

### Custom Prior Configuration
Edit `priors_config.json` to customize prior ranges:

```json
{
  "piecewise_polytrope": {
    "log_p1": [33.0, 36.0],
    "gamma1": [1.0, 5.0],
    "gamma2": [1.0, 5.0], 
    "gamma3": [1.0, 5.0]
  },
  "spectral": {
    "n_coefficients": 4,
    "c0_range": [0.5, 0.9],
    "other_range": [-1.0, 1.0]
  }
}
```

## Data Formats

### NICER Data Format
CSV file with columns:
- `mass`: Neutron star mass in solar masses
- `radius`: Neutron star radius in km  
- `pulsar`: Pulsar name/identifier

### Gravitational Wave Data Format
CSV file with columns:
- `lambda_tilde`: Tidal deformability parameter
- `event`: Event name (e.g., GW170817)

### Synthetic Dataset Format
NumPy compressed file (.npz) containing:
- `parameters`: EoS parameters array (n_samples, n_params)
- `observations`: Synthetic observations array (n_samples, n_obs)
- `metadata`: JSON string with dataset information

## Adding New Data

To add new observational data:

1. Place raw files in `raw_events/` directory
2. Update data loading functions in `inference/dataset.py`
3. Follow the established CSV format conventions
4. Update this README with new file descriptions

## Notes

- Placeholder data files are automatically generated if real data is not available
- All data files use SI units where applicable (masses in Mâ˜‰, distances in km)
- Large datasets should be compressed (.npz format recommended)
- Ensure proper citation of observational data sources in publications
